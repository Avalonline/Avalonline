(function(e){function t(t){for(var a,r,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)r=i[d],o[r]&&m.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},o={app:0},n=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0034":function(e,t,s){"use strict";var a=s("2ee8"),o=s.n(a);o.a},"034f":function(e,t,s){"use strict";var a=s("64a9"),o=s.n(a);o.a},"2ee8":function(e,t,s){},"4d2d":function(e,t,s){"use strict";var a=s("557b"),o=s.n(a);o.a},"4d39":function(e,t,s){},5034:function(e,t,s){},"524f":function(e,t,s){},"557b":function(e,t,s){},"568f":function(e,t,s){"use strict";var a=s("ff7b"),o=s.n(a);o.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),o=s("9f7b"),n=s.n(o),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("b-navbar",{staticClass:"navbar-default container",attrs:{toggleable:"lg"}},[s("b-navbar-brand",{attrs:{to:"/"}},[e._v(e._s(e.navbarBrandMsg))]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-rules",modifiers:{"modal-rules":!0}}]},[e._v("Rules")]),s("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-roles",modifiers:{"modal-roles":!0}}]},[e._v("Roles")]),s("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-history",modifiers:{"modal-history":!0}}]},[e._v("Game History")])],1)],1)],1),s("div",{staticClass:"modals"},[s("RulesModal"),s("RolesModal"),s("HistoryModal")],1),s("router-view")],1)},i=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{staticClass:"container"},[e.joinToggled||e.createToggled?e._e():s("div",{staticStyle:{"margin-top":"15%"}},[s("h1",{staticClass:"title"},[e._v("Avalonline")]),s("h2",{staticClass:"subtitle"},[e._v("A Game of Dedication and Bluffing")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{pressed:e.createToggled,id:"create-room-btn"},on:{"update:pressed":function(t){e.createToggled=t}}},[e._v("Create Room")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{pressed:e.joinToggled,id:"join-room-btn"},on:{"update:pressed":function(t){e.joinToggled=t}}},[e._v("Join Room")])],1),e.createToggled?s("div",[s("CreateForm",{staticStyle:{"margin-top":"45%"}}),s("b-button",{staticClass:"avalon-btn-lg float-left",attrs:{pressed:e.createToggled},on:{"update:pressed":function(t){e.createToggled=t}}},[e._v("Back")])],1):e._e(),e.joinToggled?s("div",[s("JoinForm",{staticStyle:{"margin-top":"31%"}}),s("b-button",{staticClass:"avalon-btn-lg float-left",attrs:{pressed:e.joinToggled},on:{"update:pressed":function(t){e.joinToggled=t}}},[e._v("Back")])],1):e._e()])])},c=[],u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form",{attrs:{inline:""}},[s("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-roomCode"}},[e._v("roomCode")]),s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0"},[s("b-input",{attrs:{autofocus:"",id:"inline-form-input-roomCode",placeholder:"roomCode"},model:{value:e.roomCode,callback:function(t){e.roomCode=t},expression:"roomCode"}})],1),s("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[e._v("Name")]),s("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"join-room-btn"},on:{click:e.joinRoom}},[e._v("Join Room")])],1),e.loading?s("div",{staticClass:"text-center"},[s("b-spinner",{attrs:{variant:"dark",label:"Text Centered"}})],1):e._e(),e.error?s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorMsg))]):e._e()],1)},d=[],m=(s("7f7f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("Chatroom")]),s("div",{staticClass:"card-body"},[s("dl",{attrs:{id:"messageList"}}),s("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"messages"},e._l(e.messages,function(t){return s("div",{key:t.id,staticClass:"message"},[s("strong",[e._v(e._s(t.username+" "))]),s("font",{attrs:{size:"2",color:"grey"}},[e._v("("+e._s(t.time)+")")]),s("strong",[e._v(":")]),s("br"),e._v("\n              "+e._s(t.text)+"\n            ")],1)}),0)]),s("hr"),s("div",{staticClass:"input-group"},[s("div",{staticStyle:{width:"auto"}},[s("textarea",{attrs:{type:"text",name:"",id:"",cols:"30",row:"4",wrap:"hard",placeholder:"Press Enter to send your message..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}}})])])])])])])}),h=[],v=s("a4bb"),p=s.n(v),f=(s("ac6a"),s("a481"),s("8aa5")),g=s.n(f),b=(s("5118"),s("123d")),_=s.n(b);a["default"].use(_.a);var y={name:"Chat",data:function(){return{username:"",messages:[]}},props:["your-name","room-code"],methods:{sendMessage:function(e){e.preventDefault(),e.target.value=e.target.value.replace(/^\s+|\s+$/g,"");var t=this.timeStamp();if(e.target.value){var s={username:this.yourName,text:e.target.value,time:t};console.log("Your message is: ",s),g.a.database().ref("chat/room-messages/"+this.roomCode).push(s),console.log("Message sent"),e.target.value=""}else console.log("Something went wrong..."),console.log(e)},joinMessage:function(){var e=this.yourName+" joined the room.",t=this.timeStamp(),s={username:"",text:e,time:t};g.a.database().ref("chat/room-messages/"+this.roomCode).push(s),console.log("Join message sent")},timeStamp:function(){var e=new Date,t=[e.getHours(),e.getMinutes()],s=t[0]<12?"AM":"PM";return t[0]=t[0]<12?t[0]:t[0]-12,t[0]=t[0]||12,t[1]<10&&(t[1]="0"+t[1]),t.join(":")+s}},mounted:function(){var e=this,t=(this.yourName,this.roomCode),s=g.a.database().ref("chat/room-messages/"+t);s.on("value",function(t){var s=[],a=t.val()||null;a||console.log("Warning: No chat rooms exist!"),p()(a).forEach(function(e){s.push({id:e,username:a[e].username,text:a[e].text,time:a[e].time})}),e.messages=s})}},w=y,C=(s("7c5b"),s("2877")),k=Object(C["a"])(w,m,h,!1,null,"799ed0ea",null),M=k.exports,j={name:"JoinForm",data:function(){return{name:"2",roomCode:null,error:!1,loading:!1,errorMsg:null}},methods:{joinRoom:function(){this.error=!1,this.loading=!0,this.$socket.emit("joinRoom",{roomCode:this.roomCode,name:this.name})}},sockets:{errorMsg:function(e){this.error=!0,this.errorMsg=e,this.loading=!1},passedValidation:function(){this.$router.push({name:"game",params:{yourName:this.name,roomCode:this.roomCode}})}}},O=j,T=Object(C["a"])(O,u,d,!1,null,null,null),V=T.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form",{attrs:{inline:""}},[s("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[e._v("Name")]),s("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{autofocus:"",id:"inline-form-input-name",placeholder:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"create-room-btn"},on:{click:e.createRoom}},[e._v("Create Room")])],1),e.loading?s("div",{staticClass:"text-center"},[s("b-spinner",{attrs:{variant:"dark",label:"Text Centered"}})],1):e._e(),e.error?s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorMsg))]):e._e()],1)},Q=[],S=s("bc3a"),R=s.n(S),P={name:"CreateForm",data:function(){return{name:"1",roomCode:null,loading:!1,error:!1,errorMsg:null}},methods:{createRoom:function(){var e=this;this.error=!1,this.loading=!0,R.a.get("https://www.random.org/integers/?num=1&min=1&max=999999&col=1&base=10&format=plain&rnd=new").then(function(t){e.roomCode=t.data,e.$socket.emit("createRoom",{roomCode:e.roomCode,name:e.name})})}},sockets:{errorMsg:function(e){this.error=!0,this.errorMsg=e,this.loading=!1},passedValidation:function(){this.$router.push({name:"game",params:{yourName:this.name,roomCode:this.roomCode}})}}},q=P,B=Object(C["a"])(q,x,Q,!1,null,null,null),A=B.exports,N={name:"home",components:{JoinForm:V,CreateForm:A},data:function(){return{joinToggled:!1,createToggled:!1}}},E=N,$=(s("e393"),Object(C["a"])(E,l,c,!1,null,"70d18df6",null)),G=$.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-rules",size:"lg",scrollable:"",title:"Game Rules"}},[s("h2",{staticClass:"heading"},[s("b",[e._v("Objective")])]),s("p",[e._v("\n    Avalon is the game of hidden loyalty. Players are either Loyal\n    Servants of Arther fighting for Good and honor or aligned with the Evil ways of Mordred.\n    "),s("br"),e._v("Good wins the game by successfully completing three Quests. Evil wins if three\n    Quests end in failure. Evil can also win by assassinating Merlin at game's end\n    or if a Quest cannot be undertaken.\n    "),s("br"),e._v("Players may make any claims during the game.\n    Deception, accusation, and logical deducation are all equally important in order\n    for Good to prevail or Evil to rule the day.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Game Play")])]),s("p",[e._v("\n    The game consists of several rounds; each round has a team building phase and a Quest phase.\n    "),s("br"),e._v("In the team building phase, the quest leader proposes a team to complete a Quest.\n    All the players will either approve the proposed team and move to the quest phase,\n    or reject the proposed team, passing leadership to the next player and repeating the\n    process until a team is approved. If five teams are rejected in a single round, Evil wins.\n    In the Quest phase, players selected to be on the team will annonymously vote to succeed or fail the quest.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Assassinate Merlin")])]),s("p",[e._v("\n    If 3 quests are completed successfully, the evil players will have a final\n    opportunity to win the game by correctly guessing which of the good players is Merlin.\n    Without revealing any character cards, the evil players openly discuss and the assassin\n    will pick one good player as Merlin. If the named player is Merlin, then Evil players win.\n    If the evil players do not name Merlin, then the Good players win.\n  ")])])},D=[],H={},I=Object(C["a"])(H,F,D,!1,null,null,null),L=I.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-roles",size:"lg",scrollable:"",title:"Game Roles"}},[s("h2",{staticClass:"heading"},[s("b",[e._v("Loyal Servant of Arthur")])]),s("p",[e._v("\n    You have no special abilities, your primary goal is to figure out who is bad based on, in this order:\n    "),s("br"),e._v("1. Mission success/failure\n    "),s("br"),e._v("2. Voting\n    "),s("br"),e._v("3. Deception indicators\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Minion of Mordred")])]),s("p",[e._v("\n    Your primary goal is to lose missions. Your secondary goal is to try to discover who\n    Merlin is so that you can help the Assassin if you fail your primary goal.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Merlin")])]),s("p",[e._v("\n    Merlin must steer the knights correctly without it being obvious they know who all the\n    minions are. This means they must make deductions based on actions taken by players in the game.\n    "),s("br"),e._v("How to give yourself away:\n    "),s("br"),e._v("1. Knowing too much about who is evil.\n    "),s("br"),e._v("2. Calling an evil player evil when there is not much/any reason to call them evil.\n    "),s("br"),e._v("3. Being more helpful to the good side than usual.\n    "),s("br"),e._v("4. Never being confused or surprised.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Assassin")])]),s("p",[e._v("\n    Merlin votes correctly pretty much always so the assassin’s most important task is\n    watching the voting to see who votes correctly most of the time.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Percival")])]),s("p",[e._v("\n    Percival knows which two players are either Morgana or Merlin, but not specifically.\n    Your primary job is to pretend to be Merlin. Your secondary job is to\n    determine who Morgana is so you can vote down quests in which they try to participate.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Morgana")])]),s("p",[e._v("Morgana appears as Merlin to Percival, Percival does not know which is which.")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Mordred")])]),s("p",[e._v("\n    Mordred helps the evil side because Merlin does not know his identity, but hurts in their\n    ability to detect Merlin because he can’t always vote correctly anymore. Basically, adding\n    him helps them win more often by just causing 3 missions to fail, but makes it harder to\n    assassinate Merlin in the end. As Mordred, it is imperative that you recognize your unique\n    situation because you will be able to watch the votes to see how everyone votes for teams\n    to which the other minions belong.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Oberon")])]),s("p",[e._v("\n    Oberon is a secret force of evil that is unknown to the other evil players. He is a fun\n    addition to a game, but makes it a challenge for the minions, so I recommend only considering\n    him during a 7 or 10 player game. Adding him is a great way to spice up a game of veterans.\n  ")])])},J=[],Y={},W=Object(C["a"])(Y,z,J,!1,null,null,null),K=W.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-history",size:"lg",scrollable:"",title:"Game History"}},[s("p",[e._v("\n    Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis\n    in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n  ")])])},X=[],Z={},ee=Object(C["a"])(Z,U,X,!1,null,null,null),te=ee.exports,se={components:{Home:G,RulesModal:L,RolesModal:K,HistoryModal:te},data:function(){return{navbarBrandMsg:"Avalonline"}},sockets:{roomCode:function(e){this.navbarBrandMsg="Room "+e}}},ae=se,oe=(s("034f"),Object(C["a"])(ae,r,i,!1,null,null,null)),ne=oe.exports,re=s("8c4f"),ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"container text-left",staticStyle:{"margin-top":".5rem"}},[s("h4",[e._v("\n      "+e._s(e.yourName)+", welcome to Avalonline Room:\n      "),s("span",{attrs:{id:"roomCode"}},[e._v(e._s(e.roomCode))])])]),s("div",{staticClass:"row justify-content-md-center mx-0"},[s("div",{staticClass:"container game col-8"},[s("EndGameOverlay"),s("b-row",[s("b-col",{attrs:{cols:"10"}},[s("div",{staticStyle:{"text-align":"left"}},[e.gameStarted?e._e():s("LobbyList",{attrs:{players:e.players}})],1)]),s("b-col",[e.showSetupOptions?s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.setupModal",modifiers:{setupModal:!0}}],staticClass:"setupButton"},[e._v("Setup Options")]):e._e()],1)],1),s("SetupOptions",{on:{clicked:e.clickedSetupOptions}}),e.error?s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorMsg))]):e._e(),e.showStartButton?s("div",[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"start-game-btn"},on:{click:e.startGame}},[e._v("Start Game")])],1):e._e(),e.gameStarted?s("PlayerCards",{attrs:{players:e.players,yourName:e.yourName,showAddPlayerButton:e.showAddPlayerButton,showRemovePlayerButton:e.showRemovePlayerButton,assassination:e.assassination}}):e._e(),e.showQuestMsg&&e.questMsg.length>0?s("div",{staticClass:"row justify-content-md-center py-2"},[s("span",{staticClass:"text-dark"},[e._v(e._s(e.questMsg))])]):e._e(),s("QuestVotes",{attrs:{yourName:e.yourName}}),s("DecideQuestTeam",{attrs:{yourName:e.yourName}}),e.gameStarted?s("QuestCards",{attrs:{quests:e.quests}}):e._e(),e.gameStarted?s("VoteTrack",{attrs:{currentVoteTrack:e.currentVoteTrack}}):e._e()],1),s("div",{staticClass:"container chat col-4"},[s("div",{staticStyle:{align:"right"}},[s("Chat",{attrs:{"your-name":e.yourName,"room-code":e.roomCode}})],1)])])])},le=[],ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticStyle:{"list-style-type":"none"}},e._l(e.players,function(t,a){return s("li",{key:a,staticStyle:{"font-size":"27px"}},[e._v(e._s(t.role)+": "+e._s(t.name))])}),0)},ue=[],de={name:"LobbyList",props:["players"]},me=de,he=(s("8915"),Object(C["a"])(me,ce,ue,!1,null,"78b52d6d",null)),ve=he.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-content-md-center"},e._l(e.players,function(t,a){return s("div",{key:a,staticClass:"card",class:{darkerBG:t.name===e.yourName}},[s("div",{staticClass:"card-body",class:{markRed:"Evil"===t.team,markGreen:"Good"===t.team}},[s("h5",{staticClass:"card-title"},[e._v("\n        "+e._s(t.role)+": "+e._s(t.name)+"\n        "),t.leader?s("span",{staticStyle:{color:"#FFD700"}},[e._v("👑")]):e._e()]),s("h6",{staticClass:"card-subtitle text-muted"},[s("b",[e._v("Team:")]),e._v("\n        "+e._s(t.team)+"\n        "),s("br"),s("b",[e._v("Character:")]),e._v("\n        "+e._s(t.character)+"\n        "),s("br"),t.onQuest?s("b-badge",{staticClass:"questBadge",attrs:{variant:"success"}},[e._v("On Quest")]):e._e()],1),e.showAddPlayerButton||e.showRemovePlayerButton?s("div",{staticClass:"row justify-content-md-center"},[!t.onQuest&&e.showAddPlayerButton?s("b-button",{staticClass:"mx-1 mt-2",attrs:{variant:"success",id:"add-player-"+t.name},on:{click:function(s){return e.addPlayerToQuest(t.name)}}},[e._v("Add to Quest")]):e._e(),t.onQuest&&e.showRemovePlayerButton?s("b-button",{staticClass:"mx-1 mt-1",attrs:{variant:"danger",id:"remove-player-"+t.name},on:{click:function(s){return e.removePlayerFromQuest(t.name)}}},[e._v("Drop from Quest")]):e._e()],1):e._e(),e.assassination?s("div",{staticClass:"row justify-content-md-center"},["good"===t.team||"hidden"===t.team?s("b-button",{staticClass:"mx-1 mt-1",attrs:{variant:"danger",id:"assassinate-"+t.name},on:{click:function(s){return e.assassinatePlayer(t.name)}}},[e._v("Assassinate")]):e._e()],1):e._e()])])}),0)},fe=[],ge={name:"PlayerCards",props:["players","yourName","showAddPlayerButton","showRemovePlayerButton","assassination"],methods:{addPlayerToQuest:function(e){this.$socket.emit("addPlayerToQuest",e)},removePlayerFromQuest:function(e){this.$socket.emit("removePlayerFromQuest",e)},assassinatePlayer:function(e){this.$socket.emit("assassinatePlayer",e)}}},be=ge,_e=(s("d317"),Object(C["a"])(be,pe,fe,!1,null,null,null)),ye=_e.exports,we=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row justify-content-md-center mb-3"},e._l(e.quests,function(t,a){return s("div",{key:a,staticClass:"card",class:{markRed:!1===t.success,markGreen:!0===t.success}},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[e._v("\n          Quest "+e._s(t.questNum)+"\n          "),!0===t.currentQuest?s("span",{staticStyle:{color:"#FFD700"}},[e._v("👑")]):e._e()]),s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v(e._s(t.playersRequired)+" players")])])])}),0)])},Ce=[],ke={name:"QuestCards",props:["quests"]},Me=ke,je=(s("4d2d"),Object(C["a"])(Me,we,Ce,!1,null,"f04dcf9a",null)),Oe=je.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-content-md-center"},[s("span",{staticClass:"text-dark mx-2",staticStyle:{"margin-top":".7rem"}},[e._v("Vote Track:")]),e._l(5,function(t){return s("div",{key:t,staticClass:"circle",class:{markBG:t===e.currentVoteTrack}},[e._v(e._s(t))])})],2)},Ve=[],xe={name:"VoteTrack",props:["currentVoteTrack"]},Qe=xe,Se=(s("ccc5"),Object(C["a"])(Qe,Te,Ve,!1,null,"69f7c880",null)),Re=Se.exports,Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{staticClass:"setup",attrs:{id:"setupModal"},on:{ok:e.handleOk}},[s("b-row",{staticStyle:{"padding-bottom":"10px"}},[s("b-col",{attrs:{sm:"5"}},[s("label",{staticClass:"label",attrs:{for:"bots"}},[e._v("AI players:")])]),s("b-col",{attrs:{sm:"3"}},[s("b-form-input",{attrs:{id:"bots",type:"number",min:"0",max:"10",value:"0"}})],1)],1),s("b-row",[s("b-col",{attrs:{sm:"5"}},[s("label",{staticClass:"label",attrs:{for:"characters"}},[e._v("Special Characters:")])]),s("b-col",[s("b-form-group",e._l(e.options,function(t){return s("b-form-checkbox",{key:t.value,attrs:{value:t.value,disabled:"Morgana"===t.value&&!e.selected.includes("Percival")},on:{input:function(t){return e.validateSelected()}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v(e._s(t.text))])}),1)],1)],1),s("p",[s("em",[s("strong",[e._v("Notes:")]),s("br"),e._v("You cannot include Morgana unless Percival is also in the game.\n        "),s("br"),e._v("5 and 6-player games cannot include more than one optional evil character.\n        "),s("br"),e._v("7, 8, and 9-player games cannot include more than two optional evil characters.\n      ")])])],1)},qe=[],Be=(s("6762"),s("2fdb"),{name:"SetupOptions",props:[],data:function(){return{error:!1,errorMsg:"",selected:[],options:[{text:"Percival (Good, knows Merlin)",value:"Percival"},{text:"Mordred (Evil, invisible to Merlin)",value:"Mordred"},{text:"Oberon (Evil, invisible to other evil characters)",value:"Oberon"},{text:"Morgana (Evil, appears as Merlin to Percival)",value:"Morgana"}]}},methods:{validateSelected:function(){if(this.selected.includes("Morgana")&&!this.selected.includes("Percival"))for(var e=0;e<this.selected.length;e++)"Morgana"===this.selected[e]&&this.selected.splice(e,1)},handleOk:function(){this.$emit("clicked",this.selected)}}}),Ae=Be,Ne=(s("a66f"),Object(C["a"])(Ae,Pe,qe,!1,null,null,null)),Ee=Ne.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.showConfirmTeamButton?s("div",[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"confirm-team-btn"},on:{click:e.questTeamConfirmed}},[e._v("Confirm Team")])],1):e._e(),e.showHasVoted&&!e.showTeamVoteResults?s("div",[e._v("\n    Voted:\n    "),s("strong",[e._v(e._s(e.teamVotes))])]):e._e(),e.showAcceptRejectButtons?s("div",[s("div",{staticClass:"row justify-content-md-center"},[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"accept-team-btn"},on:{click:function(t){return e.questTeamDecision("accept")}}},[e._v("Accept Team")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"reject-team-btn"},on:{click:function(t){return e.questTeamDecision("reject")}}},[e._v("Reject Team")])],1)]):e._e(),e.showTeamVoteResults?s("div",{staticClass:"mt-2"},[e.teamVotes.reject.length>=e.teamVotes.accept.length?s("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("\n      Quest team was Rejected. New quest leader has been chosen.\n      "),s("br"),s("strong",[e._v("Accepted:")]),e._v("\n      "+e._s(e.teamVotes.accept)+"\n      "),s("br"),s("strong",[e._v("Rejected:")]),e._v("\n      "+e._s(e.teamVotes.reject)+"\n    ")]):e._e(),e.teamVotes.reject.length<e.teamVotes.accept.length?s("b-alert",{attrs:{show:"",variant:"success"}},[e._v("\n      Quest team was Approved. Waiting for quest team to go on quest.\n      "),s("br"),s("strong",[e._v("Accepted:")]),e._v("\n      "+e._s(e.teamVotes.accept)+"\n      "),s("br"),s("strong",[e._v("Rejected:")]),e._v("\n      "+e._s(e.teamVotes.reject)+"\n    ")]):e._e()],1):e._e()])},Ge=[],Fe={name:"DecideQuestTeam",data:function(){return{showConfirmTeamButton:!1,showAcceptRejectButtons:!1,teamVotes:null,showHasVoted:!1,showTeamVoteResults:!1}},props:["yourName"],methods:{questTeamConfirmed:function(){this.$socket.emit("questTeamConfirmed")},questTeamDecision:function(e){this.$socket.emit("questTeamDecision",{name:this.yourName,decision:e})}},sockets:{confirmQuestTeam:function(e){this.showConfirmTeamButton=e},acceptOrRejectTeam:function(e){this.showAcceptRejectButtons=e},votedOnTeam:function(e){this.teamVotes=e.join(", "),this.showHasVoted=!0,this.showTeamVoteResults=!1},revealTeamVotes:function(e){this.teamVotes=e,this.teamVotes.accept=e.accept.join(", "),this.teamVotes.reject=e.reject.join(", "),this.showHasVoted=!1,this.showTeamVoteResults=!0},hideTeamVotes:function(){this.showHasVoted=!1,this.showTeamVoteResults=!1}}},De=Fe,He=Object(C["a"])(De,$e,Ge,!1,null,null,null),Ie=He.exports,Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.gameOver?s("div",{staticClass:"container",attrs:{id:"overlay"}},[s("h1",{staticClass:"gameOverMessage"},[e._v("Game Over")]),s("span",{staticClass:"text-light"},[e._v(e._s(e.endGameMsg))])]):e._e()},ze=[],Je={name:"EndGameOverlay",data:function(){return{gameOver:!1,endGameMsg:null}},sockets:{gameOver:function(e){this.gameOver=!0,this.endGameMsg=e}}},Ye=Je,We=(s("0034"),Object(C["a"])(Ye,Le,ze,!1,null,null,null)),Ke=We.exports,Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.canVoteOnQuest?s("div",{staticClass:"row justify-content-md-center"},[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"succeed-btn"},on:{click:function(t){return e.questVote("succeed")}}},[e._v("Succeed")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"fail-btn",disabled:e.onGoodTeam},on:{click:function(t){return e.questVote("fail")}}},[e._v("Fail")])],1):e._e(),e.showHasVotedOnQuest&&!e.showQuestVoteResults?s("div",[e._v("\n    Voted:\n    "),s("strong",[e._v(e._s(e.voted))])]):e._e(),e.showQuestVoteResults?s("div",[e.failCount>0?s("b-alert",{attrs:{show:"",variant:"danger"}},[s("strong",[e._v("Quest Vote Results:")]),s("br"),s("strong",[e._v("Succeed:")]),e._v("\n      "+e._s(e.successCount)+"\n      "),s("br"),s("strong",[e._v("Fail:")]),e._v("\n      "+e._s(e.failCount)+"\n    ")]):e._e(),0==e.failCount?s("b-alert",{attrs:{show:"",variant:"success"}},[s("strong",[e._v("Quest Vote Results:")]),s("br"),s("strong",[e._v("Succeed:")]),e._v("\n      "+e._s(e.successCount)+"\n      "),s("br"),s("strong",[e._v("Fail:")]),e._v("\n      "+e._s(e.failCount)+"\n    ")]):e._e()],1):e._e()])},Xe=[],Ze={name:"QuestVotes",props:["yourName"],data:function(){return{canVoteOnQuest:!1,onGoodTeam:!1,showHasVotedOnQuest:!1,showQuestVoteResults:!1,voted:null,successCount:null,failCount:null}},methods:{questVote:function(e){this.canVoteOnQuest=!1,this.$socket.emit("questVote",{name:this.yourName,decision:e})}},sockets:{goOnQuest:function(e){this.canVoteOnQuest=!0,this.onGoodTeam=e},votedOnQuest:function(e){this.voted=e.join(", "),this.showHasVotedOnQuest=!0,this.showQuestVoteResults=!1},revealVotes:function(e){this.canVoteOnQuest=!1,this.showHasVotedOnQuest=!1,this.successCount=e["success"],this.failCount=e["fail"],this.showQuestVoteResults=!0},hideVotes:function(){this.showQuestVoteResults=!1,this.canVoteOnQuest=!1}}},et=Ze,tt=Object(C["a"])(et,Ue,Xe,!1,null,null,null),st=tt.exports,at={name:"Game",components:{LobbyList:ve,PlayerCards:ye,Chat:M,QuestCards:Oe,VoteTrack:Re,SetupOptions:Ee,DecideQuestTeam:Ie,EndGameOverlay:Ke,QuestVotes:st},data:function(){return{yourName:null,roomCode:null,players:[],quests:[],optionalCharacters:[],currentVoteTrack:null,questMsg:null,showQuestMsg:!1,showStartButton:!1,gameStarted:!1,showAddPlayerButton:!1,showRemovePlayerButton:!1,waitingForAssassin:!1,assassination:!1,showSetupOptions:!1,error:!1,errorMsg:null}},created:function(){this.yourName=this.$route.params.yourName,this.roomCode=this.$route.params.roomCode},methods:{clickedSetupOptions:function(e){this.optionalCharacters=e,console.log("optional characters: ".concat(this.optionalCharacters))},startGame:function(){console.log("starting game in room: ".concat(this.roomCode)),this.$socket.emit("startGame",{roomCode:this.roomCode,optionalCharacters:this.optionalCharacters}),this.showStartButton=!1}},sockets:{updatePlayers:function(e){this.players=e["players"]},updateQuests:function(e){this.quests=e["quests"]},updateVoteTrack:function(e){this.currentVoteTrack=e["voteTrack"]},gameReady:function(){this.showStartButton=!0},gameStarted:function(){this.gameStarted=!0,this.error=!1},choosePlayersForQuest:function(e){this.showAddPlayerButton=e,this.showRemovePlayerButton=e},updateQuestMsg:function(e){this.questMsg=e,this.showQuestMsg=!0},showHostSetupOptions:function(e){this.showSetupOptions=e},errorMsg:function(e){this.error=!0,this.errorMsg=e,this.showStartButton=!0},beginAssassination:function(e){this.assassination=!0,this.questMsg=e},waitForAssassin:function(e){this.waitingForAssassin=!0,this.questMsg=e,this.showQuestMsg=!0}}},ot=at,nt=(s("568f"),Object(C["a"])(ot,ie,le,!1,null,null,null)),rt=nt.exports;a["default"].use(re["a"]);var it=new re["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:G},{path:"/game",name:"game",component:rt}]}),lt=s("2f62");a["default"].use(lt["a"]);var ct=new lt["a"].Store({state:{},mutations:{},actions:{}}),ut=s("9483");Object(ut["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});s("f9e3"),s("2dd8");var dt=s("5132"),mt=s.n(dt);a["default"].config.productionTip=!1;var ht={apiKey:"AIzaSyC_0DpX0DNsW0WqtBq88BlQc1MntzEL3ZY",authDomain:"avalonline-a8a5b.firebaseapp.com",databaseURL:"https://avalonline-a8a5b.firebaseio.com",projectId:"avalonline-a8a5b",storageBucket:"avalonline-a8a5b.appspot.com",messagingSenderId:"932679206673"};g.a.initializeApp(ht),a["default"].use(n.a),a["default"].use(new mt.a({debug:!0,connection:"http://ec2-18-191-152-81.us-east-2.compute.amazonaws.com/",vuex:{store:ct,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),a["default"].config.productionTip=!1,new a["default"]({router:it,store:ct,render:function(e){return e(ne)}}).$mount("#app")},"64a9":function(e,t,s){},"676c":function(e,t,s){},"7c5b":function(e,t,s){"use strict";var a=s("676c"),o=s.n(a);o.a},8915:function(e,t,s){"use strict";var a=s("5034"),o=s.n(a);o.a},a66f:function(e,t,s){"use strict";var a=s("4d39"),o=s.n(a);o.a},a6f5:function(e,t,s){},adc5:function(e,t,s){},ccc5:function(e,t,s){"use strict";var a=s("a6f5"),o=s.n(a);o.a},d317:function(e,t,s){"use strict";var a=s("524f"),o=s.n(a);o.a},e393:function(e,t,s){"use strict";var a=s("adc5"),o=s.n(a);o.a},ff7b:function(e,t,s){}});
//# sourceMappingURL=app.c8a9820e.js.map